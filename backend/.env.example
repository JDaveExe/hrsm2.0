# ========================================
# HRSM 2.0 Backend Environment Configuration
# Healthcare Resource Sharing Management System
# ========================================
# Copy this file to .env and update the values for your environment
# For security, never commit your actual .env file to version control

# ========================================
# DATABASE CONFIGURATION
# ========================================
# Primary database settings
DB_NAME=hrsm2
DB_USER=root
DB_PASSWORD=your_mysql_password_here
DB_HOST=localhost
DB_PORT=3306
DB_DIALECT=mysql

# Database connection pool settings
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=60000
DB_POOL_IDLE=10000

# ========================================
# SERVER & SECURITY CONFIGURATION
# ========================================
# Server settings
PORT=5000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000
API_VERSION=v1

# CORS settings
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# JWT & Security Configuration (IMPORTANT: Change these in production!)
JWT_SECRET=healthcare_super_secret_key_2025_production_ready_64_characters_minimum_change_in_production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=another_super_secret_key_for_sessions_64_characters_minimum_change_in_production
BCRYPT_ROUNDS=12

# Security & Rate Limiting
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=15
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100
ENABLE_HELMET=true
ENABLE_CORS_SECURITY=true

# Session management
SESSION_TIMEOUT=30
AUTO_LOGOUT_WARNING=5
CONCURRENT_SESSIONS_LIMIT=3

# Fallback accounts control (SECURITY CRITICAL)
ENABLE_FALLBACK_ACCOUNTS=false
# Set to 'true' ONLY for development/testing
# MUST be 'false' in production for security
# When false, all users must exist in database

# ========================================
# DEFAULT USER CREDENTIALS
# ========================================
# Default credentials for database seeding (run: npm run seed:accounts)
# CHANGE THESE BEFORE RUNNING IN PRODUCTION!

# Admin Account (for seed script)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=AdminSecure123!
DEFAULT_ADMIN_EMAIL=admin@yourhospital.com

# Doctor Account (for seed script)
DEFAULT_DOCTOR_USERNAME=doctor
DEFAULT_DOCTOR_PASSWORD=DoctorSecure123!
DEFAULT_DOCTOR_EMAIL=doctor@yourhospital.com

# Management Account (for seed script)
DEFAULT_MANAGEMENT_USERNAME=management
DEFAULT_MANAGEMENT_PASSWORD=ManagementSecure123!
DEFAULT_MANAGEMENT_EMAIL=management@yourhospital.com

# NOTE: Patient accounts must be created through registration form
# No default patient account for security reasons

# ========================================
# FILE UPLOAD & STORAGE
# ========================================
# File upload configuration
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx
MAX_FILES_PER_UPLOAD=5

# Image processing
IMAGE_QUALITY=80
MAX_IMAGE_WIDTH=1920
MAX_IMAGE_HEIGHT=1080

# ========================================
# EMAIL SERVICE CONFIGURATION
# ========================================
# Primary email service
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
EMAIL_FROM_NAME=HRSM Healthcare System
EMAIL_FROM_ADDRESS=your-email@gmail.com

# Alternative email services (uncomment to use)
# For Outlook/Hotmail
# EMAIL_SERVICE=outlook
# EMAIL_HOST=smtp-mail.outlook.com
# EMAIL_PORT=587

# For custom SMTP
# EMAIL_SERVICE=smtp
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_SECURE=true

# Email templates and settings
EMAIL_TEMPLATE_PATH=./templates/email
ENABLE_EMAIL_QUEUE=true
EMAIL_RETRY_ATTEMPTS=3

# ========================================
# SMS SERVICE CONFIGURATION (TWILIO)
# ========================================
# Twilio SMS service
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_URL=http://localhost:5000/api/notifications/sms-delivery-status

# SMS settings
ENABLE_SMS_NOTIFICATIONS=true
SMS_RATE_LIMIT=10
SMS_RETRY_ATTEMPTS=2

# ========================================
# NOTIFICATION SYSTEM
# ========================================
# Notification service settings
NOTIFICATION_MODE=development
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_IN_APP_NOTIFICATIONS=true

# Notification channels
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_APPOINTMENT_REMINDERS=true
ENABLE_PRESCRIPTION_ALERTS=true
ENABLE_INVENTORY_ALERTS=true

# ========================================
# DEVELOPMENT & TESTING
# ========================================
# Development settings
ENABLE_SMS_MOCK=true
ENABLE_EMAIL_MOCK=false
ENABLE_DEBUG_ROUTES=true
ENABLE_API_DOCS=true

# Testing configuration
TEST_DB_NAME=hrsm2_test
ENABLE_TEST_ROUTES=false
MOCK_EXTERNAL_SERVICES=true

# Sample data settings
ENABLE_SAMPLE_DATA=false
AUTO_SEED_DATABASE=false

# ========================================
# LOGGING & MONITORING
# ========================================
# Logging configuration
LOG_LEVEL=info
LOG_FILE=logs/application.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
ENABLE_REQUEST_LOGGING=true

# Error reporting
ENABLE_ERROR_REPORTING=true
ERROR_LOG_FILE=logs/errors.log

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=false
PERFORMANCE_LOG_FILE=logs/performance.log

# ========================================
# BACKUP & MAINTENANCE
# ========================================
# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System under maintenance. Please try again later.

# ========================================
# API INTEGRATIONS
# ========================================
# External API settings
EXTERNAL_PHARMACY_API=
EXTERNAL_LAB_API=
EXTERNAL_INSURANCE_API=

# Healthcare data standards
ENABLE_HL7_INTEGRATION=false
FHIR_SERVER_URL=

# ========================================
# ANALYTICS & REPORTING
# ========================================
# Analytics settings
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=365
ENABLE_USAGE_STATISTICS=true

# Report generation
ENABLE_AUTOMATED_REPORTS=true
REPORT_GENERATION_SCHEDULE=weekly
REPORT_OUTPUT_PATH=./reports

# ========================================
# FEATURE FLAGS
# ========================================
# Enable/disable major features
ENABLE_APPOINTMENT_SYSTEM=true
ENABLE_PRESCRIPTION_SYSTEM=true
ENABLE_INVENTORY_MANAGEMENT=true
ENABLE_VACCINATION_TRACKING=true
ENABLE_PATIENT_PORTAL=true
ENABLE_DOCTOR_DASHBOARD=true
ENABLE_ADMIN_FEATURES=true
ENABLE_MANAGEMENT_DASHBOARD=true

# Advanced features
ENABLE_AI_RECOMMENDATIONS=false
ENABLE_TELEMEDICINE=false
ENABLE_MOBILE_APP_API=false
ENABLE_INSURANCE_INTEGRATION=false

# ========================================
# CACHE & PERFORMANCE
# ========================================
# Redis cache (if available)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
ENABLE_REDIS_CACHE=false

# Memory cache settings
ENABLE_MEMORY_CACHE=true
CACHE_TTL=3600
MAX_CACHE_SIZE=100

# ========================================
# PRODUCTION OPTIMIZATION
# ========================================
# Production settings (uncomment for production)
# NODE_ENV=production
# FRONTEND_URL=https://yourdomain.com
# DB_SSL=true
# FORCE_HTTPS=true
# TRUST_PROXY=true

# SSL/TLS settings
# SSL_KEY_PATH=./ssl/private.key
# SSL_CERT_PATH=./ssl/certificate.crt
# SSL_CA_PATH=./ssl/ca_bundle.crt
